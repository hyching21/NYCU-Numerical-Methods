
X = [1.3 1.3 1.3 1.3;2.5 2.5 2.5 2.5;3.1 3.1 3.1 3.1; 4.7 4.7 4.7 4.7];
Y = [0.2 0.2 0.2 0.2;0.4 0.4 0.4 0.4;0.5 0.5 0.5 0.5; 0.7 0.7 0.7 0.7];
Z = [2.521 2.792 2.949 3.314; 3.721 3.992 4.149	4.514; 4.321 4.592 4.749 5.114; 5.921 6.192 6.349 6.714];
M = [-1 3 -3 1; 3 -6 3 0; -3 0 3 0; 1 4 1 0];
U = @(u)[u.^3 u.^2 u 1];
V = @(v)[v.^3; v.^2 ;v ;1];
% x(u,v) = 1/36 uMXM'v'

x_eq = @(u, v) (1/36) * U(u) * M * X * M' * V(v);
y_eq = @(u, v) (1/36) * U(u) * M * Y * M' * V(v);
z_eq = @(u, v) (1/36) * U(u) * M * Z * M' * V(v);

x_val = 2.8;
y_val = 0.54;
% syms u v  
% eq1 =  (1/36) .* U(u) .* M .* X .* M' .* V(v)==2.8;
% eq2 =  (1/36) .* U(u) .* M .* Y .* M' .* V(v)==0.54;
% [u,v] = solve([eq1,eq2],[u,v]);
% u_val = double(u);
% v_val = double(v);

u_val = (x_val-1.3)/(4.7-1.3);
v_val = (y_val-0.2)/(0.7-0.2);
result = z_eq(u_val, v_val);
disp(result);

